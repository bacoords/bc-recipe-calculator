{"version":3,"file":"index.js","mappings":"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","sources":["webpack://bc-recipe-calculator/./src/components/App.js","webpack://bc-recipe-calculator/./src/index.js","webpack://bc-recipe-calculator/./src/style.scss","webpack://bc-recipe-calculator/external window [\"wp\",\"components\"]","webpack://bc-recipe-calculator/external window [\"wp\",\"element\"]","webpack://bc-recipe-calculator/external window [\"wp\",\"i18n\"]","webpack://bc-recipe-calculator/external window \"ReactJSXRuntime\"","webpack://bc-recipe-calculator/webpack/bootstrap","webpack://bc-recipe-calculator/webpack/runtime/chunk loaded","webpack://bc-recipe-calculator/webpack/runtime/compat get default export","webpack://bc-recipe-calculator/webpack/runtime/define property getters","webpack://bc-recipe-calculator/webpack/runtime/hasOwnProperty shorthand","webpack://bc-recipe-calculator/webpack/runtime/make namespace object","webpack://bc-recipe-calculator/webpack/runtime/jsonp chunk loading","webpack://bc-recipe-calculator/webpack/before-startup","webpack://bc-recipe-calculator/webpack/startup","webpack://bc-recipe-calculator/webpack/after-startup"],"sourcesContent":["import { useState, useEffect } from \"@wordpress/element\";\nimport {\n  Button,\n  TextControl,\n  Modal,\n  SelectControl,\n  Spinner,\n  Notice,\n} from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\n\nfunction App() {\n  // Get the current post ID from the WordPress environment\n  const postId = window.bcRecipeCalculator?.postId || 0;\n\n  const [servings, setServings] = useState(1);\n  const [ingredients, setIngredients] = useState([]);\n  const [totalCost, setTotalCost] = useState(0);\n  const [costPerServing, setCostPerServing] = useState(0);\n\n  // New state for taxonomy integration\n  const [availableIngredients, setAvailableIngredients] = useState([]);\n  const [isLoadingIngredients, setIsLoadingIngredients] = useState(true);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [newIngredient, setNewIngredient] = useState({\n    name: \"\",\n    price: \"\",\n    quantity: \"\",\n    unit: \"\",\n  });\n  const [isCreatingIngredient, setIsCreatingIngredient] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // State for saving data\n  const [isSaving, setIsSaving] = useState(false);\n  const [lastSaved, setLastSaved] = useState(null);\n\n  // Fetch ingredients from WordPress taxonomy\n  useEffect(() => {\n    fetchIngredients();\n  }, []);\n\n  // Load recipe data on component mount\n  useEffect(() => {\n    if (postId) {\n      loadRecipeData();\n    }\n  }, [postId]);\n\n  // Auto-save recipe data every 1 minute\n  useEffect(() => {\n    if (postId && (servings > 0 || ingredients.length > 0)) {\n      const intervalId = setInterval(() => {\n        saveRecipeData();\n      }, 60000); // Auto-save every 1 minute\n\n      return () => clearInterval(intervalId);\n    }\n  }, [servings, ingredients, postId]);\n\n  const loadRecipeData = async () => {\n    try {\n      const response = await fetch(`/wp-json/wp/v2/bc_recipe/${postId}`);\n      if (!response.ok) {\n        throw new Error(\"Failed to load recipe data\");\n      }\n      const data = await response.json();\n      setServings(data.meta?.recipe_servings || 1);\n      setIngredients(\n        data.meta?.recipe_ingredients\n          ? JSON.parse(data.meta.recipe_ingredients)\n          : []\n      );\n    } catch (error) {\n      console.error(\"Error loading recipe data:\", error);\n      // Don't show error for new recipes that don't have data yet\n      if (error.message !== \"Failed to load recipe data\") {\n        setError(\"Failed to load recipe data\");\n      }\n    }\n  };\n\n  const saveRecipeData = async () => {\n    if (!postId) return;\n\n    try {\n      setIsSaving(true);\n\n      // Get the title from the WordPress post title field\n      const titleElement = document.getElementById(\"title\");\n      const title = titleElement ? titleElement.value : \"\";\n\n      // Update the post with title, status, and meta data\n      const response = await fetch(`/wp-json/wp/v2/bc_recipe/${postId}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-WP-Nonce\": wpApiSettings.nonce,\n        },\n        body: JSON.stringify({\n          title: title,\n          status: \"publish\",\n          meta: {\n            recipe_servings: servings,\n            recipe_ingredients: JSON.stringify(ingredients),\n          },\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to save recipe data\");\n      }\n\n      setLastSaved(new Date());\n    } catch (error) {\n      console.error(\"Error saving recipe data:\", error);\n      setError(\"Failed to save recipe data\");\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const fetchIngredients = async () => {\n    try {\n      setIsLoadingIngredients(true);\n      const response = await fetch(\"/wp-json/wp/v2/bc_ingredient?per_page=100\");\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch ingredients\");\n      }\n      const ingredients = await response.json();\n      setAvailableIngredients(ingredients);\n    } catch (error) {\n      console.error(\"Error fetching ingredients:\", error);\n      setError(\"Failed to load ingredients\");\n    } finally {\n      setIsLoadingIngredients(false);\n    }\n  };\n\n  const createNewIngredient = async () => {\n    if (!newIngredient.name.trim()) {\n      setError(\"Ingredient name is required\");\n      return;\n    }\n\n    if (!newIngredient.price.trim()) {\n      setError(\"Price is required\");\n      return;\n    }\n\n    if (\n      isNaN(parseFloat(newIngredient.price)) ||\n      parseFloat(newIngredient.price) <= 0\n    ) {\n      setError(\"Price must be a valid positive number\");\n      return;\n    }\n\n    if (!newIngredient.quantity.trim()) {\n      setError(\"Quantity is required\");\n      return;\n    }\n\n    if (\n      isNaN(parseFloat(newIngredient.quantity)) ||\n      parseFloat(newIngredient.quantity) <= 0\n    ) {\n      setError(\"Quantity must be a valid positive number\");\n      return;\n    }\n\n    if (!newIngredient.unit.trim()) {\n      setError(\"Unit is required\");\n      return;\n    }\n\n    try {\n      setIsCreatingIngredient(true);\n      setError(\"\");\n\n      const response = await fetch(\"/wp-json/wp/v2/bc_ingredient\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-WP-Nonce\": wpApiSettings.nonce,\n        },\n        body: JSON.stringify({\n          name: newIngredient.name,\n          meta: {\n            ingredient_price: newIngredient.price,\n            ingredient_quantity: newIngredient.quantity,\n            ingredient_unit: newIngredient.unit,\n          },\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to create ingredient\");\n      }\n\n      const createdIngredient = await response.json();\n      setAvailableIngredients([...availableIngredients, createdIngredient]);\n      setIsModalOpen(false);\n      setNewIngredient({ name: \"\", price: \"\", quantity: \"\", unit: \"\" });\n\n      // Refresh the ingredients list\n      await fetchIngredients();\n    } catch (error) {\n      console.error(\"Error creating ingredient:\", error);\n      setError(\"Failed to create ingredient\");\n    } finally {\n      setIsCreatingIngredient(false);\n    }\n  };\n\n  const addIngredient = () => {\n    const newIngredient = {\n      id: Date.now(),\n      termId: null,\n      name: \"\",\n      recipeAmount: \"\",\n      cost: 0,\n    };\n    setIngredients([...ingredients, newIngredient]);\n  };\n\n  const removeIngredient = (id) => {\n    setIngredients(ingredients.filter((ingredient) => ingredient.id !== id));\n  };\n\n  const updateIngredient = (id, field, value) => {\n    setIngredients(\n      ingredients.map((ingredient) => {\n        if (ingredient.id === id) {\n          const updated = { ...ingredient, [field]: value };\n\n          // Calculate cost for this ingredient using taxonomy data\n          if (updated.termId && updated.recipeAmount) {\n            const selectedIngredient = availableIngredients.find(\n              (ing) => ing.id === updated.termId\n            );\n            if (selectedIngredient) {\n              const price = parseFloat(\n                selectedIngredient.meta?.ingredient_price || 0\n              );\n              const packageAmount = parseFloat(\n                selectedIngredient.meta?.ingredient_quantity || 0\n              );\n              const recipeAmount = parseFloat(updated.recipeAmount);\n\n              if (packageAmount > 0) {\n                updated.cost = (price / packageAmount) * recipeAmount;\n              } else {\n                updated.cost = 0;\n              }\n            }\n          }\n\n          return updated;\n        }\n        return ingredient;\n      })\n    );\n  };\n\n  const selectIngredientFromTaxonomy = (id, termId) => {\n    const selectedIngredient = availableIngredients.find(\n      (ing) => ing.id === parseInt(termId)\n    );\n    if (selectedIngredient) {\n      setIngredients(\n        ingredients.map((ingredient) => {\n          if (ingredient.id === id) {\n            const updated = {\n              ...ingredient,\n              termId: selectedIngredient.id,\n              name: selectedIngredient.name,\n            };\n\n            // Calculate cost for this ingredient using taxonomy data\n            if (updated.termId && updated.recipeAmount) {\n              const price = parseFloat(\n                selectedIngredient.meta?.ingredient_price || 0\n              );\n              const packageAmount = parseFloat(\n                selectedIngredient.meta?.ingredient_quantity || 0\n              );\n              const recipeAmount = parseFloat(updated.recipeAmount);\n\n              if (packageAmount > 0) {\n                updated.cost = (price / packageAmount) * recipeAmount;\n              } else {\n                updated.cost = 0;\n              }\n            } else {\n              updated.cost = 0;\n            }\n\n            return updated;\n          }\n          return ingredient;\n        })\n      );\n    }\n  };\n\n  // Calculate total cost whenever ingredients change\n  useEffect(() => {\n    const total = ingredients.reduce(\n      (sum, ingredient) => sum + ingredient.cost,\n      0\n    );\n    setTotalCost(total);\n    setCostPerServing(servings > 0 ? total / servings : 0);\n  }, [ingredients, servings]);\n\n  const ingredientOptions = availableIngredients.map((ingredient) => ({\n    label: ingredient.name,\n    value: ingredient.id.toString(),\n  }));\n\n  return (\n    <div className=\"bc-recipe-calculator\">\n      <div className=\"calculator-header\">\n        <div className=\"header-content\">\n          <div>\n            <h2>Recipe Cost Calculator</h2>\n            <p>Calculate the cost of your recipe ingredients</p>\n          </div>\n          <div className=\"save-actions\">\n            <Button\n              variant=\"primary\"\n              onClick={saveRecipeData}\n              isBusy={isSaving}\n              disabled={!postId}\n            >\n              {isSaving ? \"Saving...\" : \"Save Recipe\"}\n            </Button>\n          </div>\n        </div>\n        {isSaving && (\n          <div className=\"saving-indicator\">\n            <Spinner />\n            <span>Saving...</span>\n          </div>\n        )}\n        {lastSaved && !isSaving && (\n          <div className=\"saved-indicator\">\n            <span>âœ“ Last saved: {lastSaved.toLocaleTimeString()}</span>\n            <span className=\"auto-save-note\">(Auto-saves every minute)</span>\n          </div>\n        )}\n      </div>\n\n      <div className=\"calculator-section\">\n        <div className=\"servings-input\">\n          <label htmlFor=\"servings\">Number of Servings:</label>\n          <TextControl\n            type=\"number\"\n            value={servings.toString()}\n            onChange={(value) => setServings(parseInt(value) || 1)}\n            min=\"1\"\n          />\n        </div>\n      </div>\n\n      <div className=\"calculator-section\">\n        <div className=\"ingredients-header\">\n          <h3>Ingredients</h3>\n        </div>\n\n        {error && (\n          <Notice status=\"error\" isDismissible={false}>\n            {error}\n          </Notice>\n        )}\n\n        {isLoadingIngredients && (\n          <div className=\"loading-ingredients\">\n            <Spinner />\n            <p>Loading ingredients...</p>\n          </div>\n        )}\n\n        {ingredients.length === 0 && !isLoadingIngredients && (\n          <div className=\"no-ingredients\">\n            <p>\n              No ingredients added yet. Click \"Add Ingredient\" to get started.\n            </p>\n          </div>\n        )}\n\n        {ingredients.map((ingredient) => (\n          <div key={ingredient.id} className=\"ingredient-row\">\n            <div className=\"ingredient-fields\">\n              <div className=\"field-group\">\n                <label>Select Ingredient:</label>\n                <SelectControl\n                  value={ingredient.termId?.toString() || \"\"}\n                  options={[\n                    { label: \"Choose an ingredient...\", value: \"\" },\n                    ...ingredientOptions,\n                  ]}\n                  onChange={(value) =>\n                    selectIngredientFromTaxonomy(ingredient.id, value)\n                  }\n                />\n              </div>\n\n              <div className=\"field-group\">\n                <label>\n                  Amount Used in Recipe (\n                  {ingredient.termId\n                    ? availableIngredients.find(\n                        (ing) => ing.id === ingredient.termId\n                      )?.meta?.ingredient_unit || \"units\"\n                    : \"units\"}\n                  ):\n                </label>\n                <TextControl\n                  type=\"number\"\n                  step=\"0.01\"\n                  value={ingredient.recipeAmount}\n                  onChange={(value) =>\n                    updateIngredient(ingredient.id, \"recipeAmount\", value)\n                  }\n                  placeholder=\"0\"\n                />\n              </div>\n\n              <div className=\"field-group cost-display\">\n                <label>Cost:</label>\n                <span className=\"cost-value\">\n                  ${ingredient.cost.toFixed(2)}\n                </span>\n              </div>\n            </div>\n\n            <Button\n              isDestructive\n              onClick={() => removeIngredient(ingredient.id)}\n            >\n              Remove\n            </Button>\n          </div>\n        ))}\n\n        <div className=\"ingredient-actions\">\n          <Button variant=\"primary\" onClick={addIngredient}>\n            + Add Ingredient\n          </Button>\n          <Button variant=\"secondary\" onClick={() => setIsModalOpen(true)}>\n            + Create New Ingredient\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"calculator-section results\">\n        <h3>Cost Summary</h3>\n        <div className=\"cost-summary\">\n          <div className=\"cost-item\">\n            <span className=\"cost-label\">Total Recipe Cost:</span>\n            <span className=\"cost-value total\">${totalCost.toFixed(2)}</span>\n          </div>\n          <div className=\"cost-item\">\n            <span className=\"cost-label\">Cost per Serving:</span>\n            <span className=\"cost-value per-serving\">\n              ${costPerServing.toFixed(2)}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {isModalOpen && (\n        <Modal\n          title=\"Create New Ingredient\"\n          onRequestClose={() => setIsModalOpen(false)}\n          className=\"ingredient-modal\"\n        >\n          <div className=\"modal-content\">\n            <p\n              style={{\n                margin: \"0 0 16px 0\",\n                fontSize: \"13px\",\n                color: \"#646970\",\n              }}\n            >\n              Create a new ingredient with pricing information. This will be\n              available for all recipes.\n            </p>\n\n            <TextControl\n              label=\"Ingredient Name *\"\n              value={newIngredient.name}\n              onChange={(value) =>\n                setNewIngredient({ ...newIngredient, name: value })\n              }\n              placeholder=\"e.g., All-purpose flour\"\n              required\n            />\n\n            <TextControl\n              label=\"Price per Unit ($) *\"\n              type=\"number\"\n              step=\"0.01\"\n              min=\"0.01\"\n              value={newIngredient.price}\n              onChange={(value) =>\n                setNewIngredient({ ...newIngredient, price: value })\n              }\n              placeholder=\"0.00\"\n              required\n            />\n\n            <TextControl\n              label=\"Default Quantity *\"\n              type=\"number\"\n              step=\"0.01\"\n              min=\"0.01\"\n              value={newIngredient.quantity}\n              onChange={(value) =>\n                setNewIngredient({ ...newIngredient, quantity: value })\n              }\n              placeholder=\"0\"\n              required\n            />\n\n            <TextControl\n              label=\"Unit *\"\n              value={newIngredient.unit}\n              onChange={(value) =>\n                setNewIngredient({ ...newIngredient, unit: value })\n              }\n              placeholder=\"e.g., grams, cups, oz\"\n              required\n            />\n          </div>\n\n          <div className=\"modal-actions\">\n            <Button\n              variant=\"primary\"\n              onClick={createNewIngredient}\n              isBusy={isCreatingIngredient}\n              disabled={\n                !newIngredient.name.trim() ||\n                !newIngredient.price.trim() ||\n                !newIngredient.quantity.trim() ||\n                !newIngredient.unit.trim() ||\n                isNaN(parseFloat(newIngredient.price)) ||\n                parseFloat(newIngredient.price) <= 0 ||\n                isNaN(parseFloat(newIngredient.quantity)) ||\n                parseFloat(newIngredient.quantity) <= 0\n              }\n            >\n              {isCreatingIngredient ? \"Creating...\" : \"Create Ingredient\"}\n            </Button>\n            <Button\n              variant=\"secondary\"\n              onClick={() => setIsModalOpen(false)}\n              disabled={isCreatingIngredient}\n            >\n              Cancel\n            </Button>\n          </div>\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { createRoot } from \"@wordpress/element\";\nimport App from \"./components/App\";\nimport \"./style.scss\";\n\n// Wait for DOM to be ready\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const container = document.getElementById(\"postbox-container-2\");\n\n  if (container) {\n    const root = createRoot(container);\n    root.render(<App />);\n  }\n});\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"ReactJSXRuntime\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkbc_recipe_calculator\"] = globalThis[\"webpackChunkbc_recipe_calculator\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], () => (__webpack_require__(\"./src/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["useState","useEffect","Button","TextControl","Modal","SelectControl","Spinner","Notice","__","jsx","_jsx","jsxs","_jsxs","App","postId","window","bcRecipeCalculator","servings","setServings","ingredients","setIngredients","totalCost","setTotalCost","costPerServing","setCostPerServing","availableIngredients","setAvailableIngredients","isLoadingIngredients","setIsLoadingIngredients","isModalOpen","setIsModalOpen","newIngredient","setNewIngredient","name","price","quantity","unit","isCreatingIngredient","setIsCreatingIngredient","error","setError","isSaving","setIsSaving","lastSaved","setLastSaved","fetchIngredients","loadRecipeData","length","intervalId","setInterval","saveRecipeData","clearInterval","response","fetch","ok","Error","data","json","meta","recipe_servings","recipe_ingredients","JSON","parse","console","message","titleElement","document","getElementById","title","value","method","headers","wpApiSettings","nonce","body","stringify","status","Date","createNewIngredient","trim","isNaN","parseFloat","ingredient_price","ingredient_quantity","ingredient_unit","createdIngredient","addIngredient","id","now","termId","recipeAmount","cost","removeIngredient","filter","ingredient","updateIngredient","field","map","updated","selectedIngredient","find","ing","packageAmount","selectIngredientFromTaxonomy","parseInt","total","reduce","sum","ingredientOptions","label","toString","className","children","variant","onClick","isBusy","disabled","toLocaleTimeString","htmlFor","type","onChange","min","isDismissible","options","step","placeholder","toFixed","isDestructive","onRequestClose","style","margin","fontSize","color","required","createRoot","addEventListener","container","root","render"],"sourceRoot":""}